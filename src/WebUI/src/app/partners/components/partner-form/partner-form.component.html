
<div *ngIf="showInCard; else form" class="card m-3">
  <h5 class="card-header">{{formTitle}}</h5>
  <div class="card-body">
    <ng-container *ngTemplateOutlet="form"></ng-container>
  </div>
</div>

<ng-template #form>

  <form [formGroup]="partnerForm" (ngSubmit)="onSubmit()">

    <div class="form-row p-2 border rounded bg-light">
      <div class="form-group col">
        <label class="h6 mt-2">Name</label>
        <input type="text" ngbAutoFocus formControlName="name" class="form-control font-weight-bold" [ngClass]="{ 'is-invalid': submitAttempted && f.name.errors }" />
        <app-show-validation-errors [control]="f.name" [shouldShow]="submitAttempted"></app-show-validation-errors>
      </div>
    </div>

    <div class="mt-2 p-3 border rounded bg-light" formGroupName="address">
      <label class="h6 mb-3 form-row">Company Address</label>
      <label>Country</label>
      <div class="form-row">
        <div class="form-group col">  
          <input type="text" formControlName="country" class="form-control" [ngClass]="{ 'is-invalid': submitAttempted && fa.country.errors }" />
          <app-show-validation-errors [control]="fa.country" [shouldShow]="submitAttempted"></app-show-validation-errors>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-4">
          <label>Zipcode</label>
          <input type="text" formControlName="zipCode" class="form-control" [ngClass]="{ 'is-invalid': submitAttempted && fa.zipCode.errors }" />
          <app-show-validation-errors [control]="fa.zipCode" [shouldShow]="submitAttempted"></app-show-validation-errors>
        </div>
        <div class="form-group col-md-8">
          <label>City</label>
          <input type="text" formControlName="city" class="form-control" [ngClass]="{ 'is-invalid': submitAttempted && fa.city.errors }" />
          <app-show-validation-errors [control]="fa.city" [shouldShow]="submitAttempted"></app-show-validation-errors>
        </div>  
      </div>
      
      <div class="form-row">
        <div class="form-group col">
          <label>Street address</label> 
          <input type="text" formControlName="street" class="form-control" [ngClass]="{ 'is-invalid': submitAttempted && fa.street.errors }" />
          <app-show-validation-errors [control]="fa.street" [shouldShow]="submitAttempted"></app-show-validation-errors>
        </div>
      </div>            
    </div> <!-- address group -->


    <div class="form-row mt-3">
      <div class="text-center">
        <button [disabled]="partnerForm.disabled" class="btn btn-primary mr-1" type="submit">{{submitText}}</button>
        <button [disabled]="partnerForm.disabled" *ngIf="secondaryBtnText" class="btn btn-secondary mr-1" type="button" (click)="onSecondary()">{{secondaryBtnText}}</button>
      </div>
    </div>

  </form>

</ng-template>
